<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GÃ³c Cá»§a CÃ´ng ChÃºa âœ¨</title>
    <style>
        :root { --pink-main: #ff85a2; --pink-light: #ffccd5; --text-color: #4a4a4a; --red-emergency: #ff4d6d; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #fff5f7; text-align: center; padding: 20px; color: var(--text-color); margin: 0; overflow-x: hidden; }
        .container { max-width: 400px; margin: auto; }
        .card { background: white; padding: 25px; border-radius: 25px; box-shadow: 0 10px 20px rgba(255, 133, 162, 0.15); margin-bottom: 20px; border: 1px solid var(--pink-light); position: relative; }
        h2, h3 { color: var(--pink-main); margin-top: 0; }
        
        /* Mood buttons */
        .mood-btn { background: white; border: 2px solid #f0f0f0; border-radius: 15px; padding: 10px; margin: 5px; cursor: pointer; font-size: 24px; transition: 0.3s; width: 70px; }
        .mood-btn.selected { border-color: var(--pink-main); background: #fff0f5; transform: scale(1.1); }
        
        /* Form elements */
        input[type="date"], textarea { border: 2px solid var(--pink-light); padding: 12px; border-radius: 15px; outline: none; width: 100%; box-sizing: border-box; font-family: inherit; margin-top: 10px; }
        textarea { resize: none; height: 80px; }
        
        /* Action buttons */
        .main-btn { background: var(--pink-main); color: white; border: none; padding: 15px; border-radius: 50px; font-weight: bold; cursor: pointer; width: 100%; font-size: 18px; box-shadow: 0 4px 15px rgba(255, 133, 162, 0.4); margin-top: 20px; transition: 0.3s; }
        .main-btn:hover { background: #ff6b91; }
        .emergency-btn { background: white; color: var(--red-emergency); border: 2px solid var(--red-emergency); padding: 10px; border-radius: 50px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 15px; }

        /* Heart animation */
        .heart { position: fixed; color: #ff85a2; font-size: 20px; pointer-events: none; z-index: 999; animation: fly 3s linear forwards; }
        @keyframes fly { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="card">
            <h2 id="greeting">ChÃ o bÃ© yÃªu! â¤ï¸</h2>
            <p id="quote" style="font-style: italic; font-size: 14px; color: #888;"></p>
        </div>

        <div class="card">
            <h3>ğŸ“… Chu ká»³ cá»§a em</h3>
            <p class="info-text" style="font-size: 13px;">NgÃ y báº¯t Ä‘áº§u ká»³ gáº§n nháº¥t:</p>
            <input type="date" id="cycle-date" onchange="updateCycleInfo()">
            <p id="cycle-result" style="font-weight: bold; margin-top: 10px; color: var(--pink-main);"></p>
        </div>

        <div class="card">
            <h3>âœ¨ HÃ´m nay em tháº¥y...</h3>
            <div id="mood-container">
                <button class="mood-btn" onclick="toggleMood(this, 'ğŸ˜Š Vui váº»')">ğŸ˜Š</button>
                <button class="mood-btn" onclick="toggleMood(this, 'ğŸ˜” HÆ¡i má»‡t')">ğŸ˜”</button>
                <button class="mood-btn" onclick="toggleMood(this, 'ğŸ˜¡ Dá»… cÃ¡u')">ğŸ˜¡</button>
                <button class="mood-btn" onclick="toggleMood(this, 'ğŸ¤¢ Äau bá»¥ng')">ğŸ¤¢</button>
            </div>
        </div>

        <div class="card">
            <h3>ğŸ’Œ Lá»i nháº¯n cho Anh</h3>
            <textarea id="note" placeholder="Em muá»‘n nÃ³i gÃ¬ vá»›i anh khÃ´ng?"></textarea>
            
            <button class="main-btn" onclick="submitReport()">Gá»­i bÃ¡o cÃ¡o cho Anh â¤ï¸</button>
            
            <button class="emergency-btn" onclick="sendEmergency()">ğŸš¨ EM Cáº¦N ANH Gáº¤P!</button>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '7894041842:AAE_20FBwZ_fVnClNdifmLtX4GP2haBpOPg';
        const CHAT_ID = '6256075469';

        let selectedMoods = [];

        // 1. Lá»i chÃ o theo buá»•i & ThÃ­nh ngáº«u nhiÃªn
        const quotes = [
            "HÃ´m nay em xinh Ä‘áº¹p nháº¥t trong máº¯t anh!",
            "Nhá»› uá»‘ng Ä‘á»§ nÆ°á»›c cho da xinh nhÃ© cÃ´ng chÃºa.",
            "DÃ¹ tháº¿ nÃ o thÃ¬ anh váº«n luÃ´n á»Ÿ Ä‘Ã¢y bÃªn em.",
            "Em lÃ  Ä‘iá»u tuyá»‡t vá»i nháº¥t mÃ  anh cÃ³ Ä‘Æ°á»£c."
        ];
        
        window.onload = () => {
            const hour = new Date().getHours();
            let greet = "ChÃ o buá»•i tá»‘i bÃ© yÃªu! ğŸŒ™";
            if (hour < 12) greet = "ChÃ o buá»•i sÃ¡ng bÃ© yÃªu! â˜€ï¸";
            else if (hour < 18) greet = "ChÃ o buá»•i chiá»u bÃ© yÃªu! ğŸŒ¤ï¸";
            document.getElementById('greeting').innerText = greet;
            document.getElementById('quote').innerText = quotes[Math.floor(Math.random() * quotes.length)];
            
            // Load ngÃ y cÅ© náº¿u cÃ³
            const savedDate = localStorage.getItem('last_cycle');
            if(savedDate) {
                document.getElementById('cycle-date').value = savedDate;
                updateCycleInfo();
            }
        };

        // 2. Chá»n tÃ¢m tráº¡ng (chá»n nhiá»u)
        function toggleMood(btn, mood) {
            btn.classList.toggle('selected');
            if(btn.classList.contains('selected')) selectedMoods.push(mood);
            else selectedMoods = selectedMoods.filter(m => m !== mood);
        }

        // 3. TÃ­nh ngÃ y chu ká»³
        function updateCycleInfo() {
            const dateVal = document.getElementById('cycle-date').value;
            localStorage.setItem('last_cycle', dateVal);
            const diff = Math.ceil((new Date(dateVal).setDate(new Date(dateVal).getDate() + 28) - new Date()) / (1000*60*60*24));
            let txt = diff > 0 ? `CÃ²n khoáº£ng ${diff} ngÃ y ná»¯a tá»›i ká»³.` : "Sáº¯p Ä‘áº¿n ká»³ rá»“i, chÃº Ã½ sá»©c khá»e nhÃ©!";
            document.getElementById('cycle-result').innerText = txt;
        }

        // 4. Hiá»‡u á»©ng trÃ¡i tim
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'â¤ï¸';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 3000);
        }

        // 5. Gá»­i bÃ¡o cÃ¡o tá»•ng há»£p
        function submitReport() {
            const note = document.getElementById('note').value;
            const cycle = document.getElementById('cycle-result').innerText;
            const moodStr = selectedMoods.length > 0 ? selectedMoods.join(', ') : "Em khÃ´ng chá»n";
            
            const fullMessage = `ğŸ“Š BÃO CÃO Tá»ª CÃ”NG CHÃšA:\n` +
                                `---------------------------\n` +
                                `ğŸ’“ TÃ¬nh tráº¡ng: ${moodStr}\n` +
                                `ğŸ“… Chu ká»³: ${cycle}\n` +
                                `ğŸ“ Lá»i nháº¯n: ${note || "KhÃ´ng cÃ³ lá»i nháº¯n"}\n` +
                                `---------------------------\n` +
                                `ğŸ’Œ Anh nhá»› xem vÃ  rep bÃ© nhÃ©!`;

            sendMessage(fullMessage, "ÄÃ£ gá»­i bÃ¡o cÃ¡o thÃ nh cÃ´ng! â¤ï¸");
            for(let i=0; i<15; i++) setTimeout(createHeart, i*100);
        }

        // 6. Gá»­i kháº©n cáº¥p
        function sendEmergency() {
            const confirmEm = confirm("BÃ© Ä‘ang cáº§n anh gáº¥p láº¯m Ä‘Ãºng khÃ´ng?");
            if(confirmEm) {
                sendMessage("ğŸš¨ Cáº¤P BÃO: BÃ‰ YÃŠU ÄANG Cáº¦N ANH Gáº¤P!!! HÃƒY Gá»ŒI CHO CÃ” áº¤Y NGAY! ğŸš¨", "Anh Ä‘ang tá»›i Ä‘Ã¢y, Ä‘á»£i anh nhÃ©! ğŸƒâ€â™‚ï¸");
            }
        }

        function sendMessage(text, successAlert) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(text)}`;
            fetch(url).then(res => {
                if(res.ok) alert(successAlert);
                else alert("Lá»—i gá»­i tin nháº¯n!");
            });
        }
    </script>
</body>
</html>
